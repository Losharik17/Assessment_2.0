{% extends "main_0.html" %}

{%  block app_content %}

    <link rel="stylesheet"  href="{{ url_for('static', filename='admin_table.css')}}">

    <div class="table-wrap">

        <table class="table-sort">
            <thead>
            <tr>
                <th id="project_id" class="sort" data-order="0" onclick="sort(this.id,
                        {{ project_number }})">ID</th>
                <th id="username" class="sort" data-order="0"
                    onclick="sort(this.id, {{ project_number }})">ФИО</th>
                <th id="birthday" class="sort dropdown_2" data-order="0"
                    onclick="sort(this.id, {{ project_number }})">Возраст
                </th>
                <th id="team" class="sort dropdown_2" data-order="0">Команда
                    <input type="hidden" name="teams" id="teams" value="Все команды">
                    <ul class="dropdown-menu"
                        onclick="show_more(0, {{ project_number }})">
                        {% for team in teams %}
                            <li project_number="{{ project_number }}" type_sort="team"
                                onclick="$('#teams').attr('value', `{{ team }}`)">{{ team }}</li>
                        {% endfor %}
                    </ul>
                </th>
                <th id="region" class="sort dropdown_2" data-order="0">Регион
                    <input type="hidden" name="regions" id="regions" value="–">
                    <ul class="dropdown-menu"
                        onclick="show_more(0, {{ project_number }})">
                        {% for region in regions %}
                            <li project_number="{{ project_number }}" type_sort="region"
                                onclick="$('#regions').attr('value', `{{ region }}`)">{{ region }}</li>
                        {% endfor %}
                    </ul>
                </th>

                {% set i = namespace(a=0) %}
                {% for parameter in ParName %}
                    <th id="sum_grade_{{ i.a }}" class="sort" data-order="0"
                        onclick="sort(this.id, {{ project_number }})">{{ parameter.name }}</th>
                    {% set i.a = i.a + 1 %}
                {% endfor %}
                <th id="sum_grade_all" data-order="0" class="sort"
                    onclick="sort(this.id, {{ project_number }})">Общая оценка</th>
            </tr>
            </thead>

            <tbody id="tbody" class="tbody-table">

            </tbody>
        </table>

    </div>


    <div class="show">
        <a id="show_more" class="show_btn" href="javascript:show_more(2, {{ project_number }})">
            Показать больше</a>
        <a id="show_all" class="show_btn" href="javascript:show_more(10000, {{ project_number }})">
            Показать все</a>
    </div>

    <script src="{{ url_for('static', filename='admin_table.js') }}"></script>
    <script>
        show_more(0, {{ project_number }})
        $('.dropdown_2 .dropdown-menu').css({'top': $('#team').outerHeight() - 15})
    </script>

{% endblock %}
